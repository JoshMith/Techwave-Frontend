<!-- seller-dashboard.component.html ‚Äî Shell: nav + router-outlet only -->

<!-- Header Navigation -->
<header class="header">
  <nav class="nav-container">
    <div class="logo-section">
      <a routerLink="/" class="logo">
        <img routerLink="/" src="favicon.ico" width="50px" alt="Logo">
      </a>
      <span class="seller-badge">Seller Portal</span>
    </div>

    <!-- Hamburger -->
    <button class="menu-toggle" [class.active]="isMobileMenuOpen"
      (click)="toggleMobileMenu()" aria-label="Toggle menu">
      <span></span><span></span><span></span>
    </button>

    <!-- Desktop Navigation -->
    <div class="nav-items">
      <a class="nav-link" routerLink="/seller-dashboard/overview"
        routerLinkActive="active" [class.disabled]="!isSeller">Dashboard</a>
      <a class="nav-link" routerLink="/seller-dashboard/products"
        routerLinkActive="active" [class.disabled]="!isSeller">Products</a>
      <a class="nav-link" routerLink="/seller-dashboard/orders"
        routerLinkActive="active" [class.disabled]="!isSeller">Orders</a>
      <a class="nav-link" routerLink="/seller-dashboard/analytics"
        routerLinkActive="active" [class.disabled]="!isSeller">Analytics</a>
      <a class="nav-link" routerLink="/seller-dashboard/promotions"
        routerLinkActive="active" [class.disabled]="!isSeller">Offers</a>
      <a class="nav-link" routerLink="/profile"
        routerLinkActive="active">Profile</a>
    </div>

    <!-- Profile Section -->
    <div class="profile-section">
      <button class="notification-btn" title="Notifications" (click)="onNotificationClick()">
        üîî
        <span class="notification-count" *ngIf="notificationCount > 0">{{ notificationCount }}</span>
      </button>
      <div class="profile-avatar" title="Profile" (click)="onProfileClick()">
        {{ userName.charAt(0).toUpperCase() }}
      </div>
    </div>
  </nav>
</header>

<!-- Mobile Overlay -->
<div class="mobile-overlay" [class.active]="isMobileMenuOpen" (click)="closeMobileMenu()"></div>

<!-- Mobile Sidebar -->
<div class="mobile-nav" [class.active]="isMobileMenuOpen">
  <button class="mobile-close-btn" (click)="closeMobileMenu()" aria-label="Close menu">&times;</button>
  <div class="mobile-nav-items">
    <a class="mobile-nav-link" routerLink="/seller-dashboard/overview"
      routerLinkActive="active" (click)="closeMobileMenu()" [class.disabled]="!isSeller">Dashboard</a>
    <a class="mobile-nav-link" routerLink="/seller-dashboard/products"
      routerLinkActive="active" (click)="closeMobileMenu()" [class.disabled]="!isSeller">Products</a>
    <a class="mobile-nav-link" routerLink="/seller-dashboard/orders"
      routerLinkActive="active" (click)="closeMobileMenu()" [class.disabled]="!isSeller">Orders</a>
    <a class="mobile-nav-link" routerLink="/seller-dashboard/analytics"
      routerLinkActive="active" (click)="closeMobileMenu()" [class.disabled]="!isSeller">Analytics</a>
    <a class="mobile-nav-link" routerLink="/seller-dashboard/promotions"
      routerLinkActive="active" (click)="closeMobileMenu()" [class.disabled]="!isSeller">Offers & Promotions</a>
    <a class="mobile-nav-link" routerLink="/seller-dashboard/profile"
      routerLinkActive="active" (click)="closeMobileMenu()">Profile</a>
  </div>
</div>

<!-- Main Content -->
<main class="main-content">

  <!-- Global Loading (auth check) -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading dashboard data...</p>
  </div>

  <!-- Unauthorized -->
  <div *ngIf="!isLoading && !isAuthorized && !error" class="unauthorized-container">
    <div class="unauthorized-message">
      <span class="unauthorized-icon">üö´</span>
      <h2>Access Denied</h2>
      <p>You don't have permission to access the seller dashboard.</p>
      <p>This area is restricted to sellers and administrators only.</p>
      <div class="unauthorized-actions">
        <a routerLink="/" class="btn btn-primary">Go to Home</a>
        <a routerLink="/shop" class="btn btn-secondary">Continue Shopping</a>
      </div>
      <div class="user-info">
        <small>Logged in as: <strong>{{ userName }}</strong> ({{ userRole }})</small>
      </div>
    </div>
  </div>

  <!-- Error -->
  <div *ngIf="error && !isLoading" class="error-container">
    <div class="error-message">
      <span class="error-icon">‚ö†Ô∏è</span>
      <p>{{ error }}</p>
      <button class="btn btn-primary" (click)="refreshData()">Retry</button>
    </div>
  </div>

  <!-- Child views render here when authorized -->
  <router-outlet *ngIf="!isLoading && !error && isAuthorized"></router-outlet>

</main>